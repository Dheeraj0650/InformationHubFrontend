'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _uiBox = require('ui-box');

var _uiBox2 = _interopRequireDefault(_uiBox);

var _elevationStyles = require('./styles/elevation-styles');

var _elevationStyles2 = _interopRequireDefault(_elevationStyles);

var _borderColors = require('./styles/border-colors');

var _borderColors2 = _interopRequireDefault(_borderColors);

var _layerAppearances = require('./styles/layer-appearances');

var _layerAppearances2 = _interopRequireDefault(_layerAppearances);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ElevationPropType = _propTypes2.default.oneOf(_elevationStyles2.default.map(function (_, index) {
  return index;
}));

var StringAndBoolPropType = _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.bool]);

var Pane = function (_PureComponent) {
  _inherits(Pane, _PureComponent);

  function Pane() {
    _classCallCheck(this, Pane);

    return _possibleConstructorReturn(this, (Pane.__proto__ || Object.getPrototypeOf(Pane)).apply(this, arguments));
  }

  _createClass(Pane, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          appearance = _props.appearance,
          elevation = _props.elevation,
          hoverElevation = _props.hoverElevation,
          activeElevation = _props.activeElevation,
          border = _props.border,
          borderTop = _props.borderTop,
          borderRight = _props.borderRight,
          borderBottom = _props.borderBottom,
          borderLeft = _props.borderLeft,
          _props$css = _props.css,
          css = _props$css === undefined ? {} : _props$css,
          props = _objectWithoutProperties(_props, ['appearance', 'elevation', 'hoverElevation', 'activeElevation', 'border', 'borderTop', 'borderRight', 'borderBottom', 'borderLeft', 'css']);

      var appearanceStyle = {};
      if (Object.prototype.hasOwnProperty.call(_layerAppearances2.default, appearance)) {
        appearanceStyle = _layerAppearances2.default[appearance];
      }

      var elevationStyle = void 0;
      if (Number.isInteger(elevation)) {
        elevationStyle = _elevationStyles2.default[elevation];
      }

      var hoverElevationStyle = {};
      if (Number.isInteger(hoverElevation)) {
        hoverElevationStyle = {
          transitionDuration: '150ms',
          transitionProperty: 'box-shadow, transform',
          transitionTimingFunction: 'cubic-bezier(0.0, 0.0, 0.2, 1)',
          ':hover': _extends({}, css[':hover'] || {}, {
            transform: 'translateY(-2px)',
            boxShadow: _elevationStyles2.default[hoverElevation]
          })
        };
      }

      var activeElevationStyle = {};
      if (Number.isInteger(activeElevation)) {
        activeElevationStyle = {
          ':active': _extends({}, css[':active'] || {}, {
            transform: 'translateY(-1px)',
            boxShadow: _elevationStyles2.default[activeElevation]
          })
        };
      }

      var _map = [borderTop, borderRight, borderBottom, borderLeft].map(function (borderSideProperty) {
        if (Object.prototype.hasOwnProperty.call(_borderColors2.default, borderSideProperty)) {
          return '1px solid ' + _borderColors2.default[borderSideProperty];
        } else if (borderSideProperty === true) {
          // Use default, which is now muted, border color when explicitly a true boolean
          return '1px solid ' + _borderColors2.default.muted;
        } else if (Object.prototype.hasOwnProperty.call(_borderColors2.default, border)) {
          return '1px solid ' + _borderColors2.default[border];
        } else if (border === true) {
          return '1px solid ' + _borderColors2.default.muted;
        }

        return borderSideProperty;
      }),
          _map2 = _slicedToArray(_map, 4),
          _borderTop = _map2[0],
          _borderRight = _map2[1],
          _borderBottom = _map2[2],
          _borderLeft = _map2[3];

      return _react2.default.createElement(_uiBox2.default, _extends({
        borderTop: _borderTop,
        borderRight: _borderRight,
        borderBottom: _borderBottom,
        borderLeft: _borderLeft,
        boxShadow: elevationStyle
      }, appearanceStyle, {
        css: _extends({}, css, hoverElevationStyle, activeElevationStyle)
      }, props));
    }
  }]);

  return Pane;
}(_react.PureComponent);

Pane.propTypes = _extends({}, _uiBox2.default.propTypes, {

  appearance: _propTypes2.default.oneOf(Object.keys(_layerAppearances2.default)),

  elevation: ElevationPropType,
  hoverElevation: ElevationPropType,
  activeElevation: ElevationPropType,

  // Enable to set a boolean for a default border
  borderTop: StringAndBoolPropType,
  borderRight: StringAndBoolPropType,
  borderBottom: StringAndBoolPropType,
  borderLeft: StringAndBoolPropType
});
exports.default = Pane;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9sYXllcnMvc3JjL1BhbmUuanMiXSwibmFtZXMiOlsiRWxldmF0aW9uUHJvcFR5cGUiLCJvbmVPZiIsIm1hcCIsIl8iLCJpbmRleCIsIlN0cmluZ0FuZEJvb2xQcm9wVHlwZSIsIm9uZU9mVHlwZSIsInN0cmluZyIsImJvb2wiLCJQYW5lIiwicHJvcHMiLCJhcHBlYXJhbmNlIiwiZWxldmF0aW9uIiwiaG92ZXJFbGV2YXRpb24iLCJhY3RpdmVFbGV2YXRpb24iLCJib3JkZXIiLCJib3JkZXJUb3AiLCJib3JkZXJSaWdodCIsImJvcmRlckJvdHRvbSIsImJvcmRlckxlZnQiLCJjc3MiLCJhcHBlYXJhbmNlU3R5bGUiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJlbGV2YXRpb25TdHlsZSIsIk51bWJlciIsImlzSW50ZWdlciIsImhvdmVyRWxldmF0aW9uU3R5bGUiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uUHJvcGVydHkiLCJ0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24iLCJ0cmFuc2Zvcm0iLCJib3hTaGFkb3ciLCJhY3RpdmVFbGV2YXRpb25TdHlsZSIsImJvcmRlclNpZGVQcm9wZXJ0eSIsIm11dGVkIiwiX2JvcmRlclRvcCIsIl9ib3JkZXJSaWdodCIsIl9ib3JkZXJCb3R0b20iLCJfYm9yZGVyTGVmdCIsInByb3BUeXBlcyIsImtleXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxvQkFBb0Isb0JBQVVDLEtBQVYsQ0FDeEIsMEJBQWdCQyxHQUFoQixDQUFvQixVQUFDQyxDQUFELEVBQUlDLEtBQUo7QUFBQSxTQUFjQSxLQUFkO0FBQUEsQ0FBcEIsQ0FEd0IsQ0FBMUI7O0FBSUEsSUFBTUMsd0JBQXdCLG9CQUFVQyxTQUFWLENBQW9CLENBQ2hELG9C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ekIsS0FaTixFQURGO0FBZ0JEOzs7Ozs7QUE1R2tCRCxJLENBQ1ppQyxTLGdCQUNGLGdCQUFJQSxTOztBQUVQL0IsY0FBWSxvQkFBVVYsS0FBVixDQUFnQnFCLE9BQU9xQixJQUFQLDRCQUFoQixDOztBQUVaL0IsYUFBV1osaUI7QUFDWGEsa0JBQWdCYixpQjtBQUNoQmMsbUJBQWlCZCxpQjs7QUFFakI7QUFDQWdCLGFBQVdYLHFCO0FBQ1hZLGVBQWFaLHFCO0FBQ2JhLGdCQUFjYixxQjtBQUNkYyxjQUFZZDs7a0JBZEtJLEkiLCJmaWxlIjoiUGFuZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnXG5pbXBvcnQgQm94IGZyb20gJ3VpLWJveCdcbmltcG9ydCBFbGV2YXRpb25TdHlsZXMgZnJvbSAnLi9zdHlsZXMvZWxldmF0aW9uLXN0eWxlcydcbmltcG9ydCBCb3JkZXJDb2xvcnMgZnJvbSAnLi9zdHlsZXMvYm9yZGVyLWNvbG9ycydcbmltcG9ydCBMYXllckFwcGVhcmFuY2VzIGZyb20gJy4vc3R5bGVzL2xheWVyLWFwcGVhcmFuY2VzJ1xuXG5jb25zdCBFbGV2YXRpb25Qcm9wVHlwZSA9IFByb3BUeXBlcy5vbmVPZihcbiAgRWxldmF0aW9uU3R5bGVzLm1hcCgoXywgaW5kZXgpID0+IGluZGV4KVxuKVxuXG5jb25zdCBTdHJpbmdBbmRCb29sUHJvcFR5cGUgPSBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgUHJvcFR5cGVzLnN0cmluZyxcbiAgUHJvcFR5cGVzLmJvb2xcbl0pXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhbmUgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAuLi5Cb3gucHJvcFR5cGVzLFxuXG4gICAgYXBwZWFyYW5jZTogUHJvcFR5cGVzLm9uZU9mKE9iamVjdC5rZXlzKExheWVyQXBwZWFyYW5jZXMpKSxcblxuICAgIGVsZXZhdGlvbjogRWxldmF0aW9uUHJvcFR5cGUsXG4gICAgaG92ZXJFbGV2YXRpb246IEVsZXZhdGlvblByb3BUeXBlLFxuICAgIGFjdGl2ZUVsZXZhdGlvbjogRWxldmF0aW9uUHJvcFR5cGUsXG5cbiAgICAvLyBFbmFibGUgdG8gc2V0IGEgYm9vbGVhbiBmb3IgYSBkZWZhdWx0IGJvcmRlclxuICAgIGJvcmRlclRvcDogU3RyaW5nQW5kQm9vbFByb3BUeXBlLFxuICAgIGJvcmRlclJpZ2h0OiBTdHJpbmdBbmRCb29sUHJvcFR5cGUsXG4gICAgYm9yZGVyQm90dG9tOiBTdHJpbmdBbmRCb29sUHJvcFR5cGUsXG4gICAgYm9yZGVyTGVmdDogU3RyaW5nQW5kQm9vbFByb3BUeXBlXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgYXBwZWFyYW5jZSxcblxuICAgICAgZWxldmF0aW9uLFxuICAgICAgaG92ZXJFbGV2YXRpb24sXG4gICAgICBhY3RpdmVFbGV2YXRpb24sXG5cbiAgICAgIGJvcmRlcixcbiAgICAgIGJvcmRlclRvcCxcbiAgICAgIGJvcmRlclJpZ2h0LFxuICAgICAgYm9yZGVyQm90dG9tLFxuICAgICAgYm9yZGVyTGVmdCxcblxuICAgICAgY3NzID0ge30sXG4gICAgICAuLi5wcm9wc1xuICAgIH0gPSB0aGlzLnByb3BzXG5cbiAgICBsZXQgYXBwZWFyYW5jZVN0eWxlID0ge31cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKExheWVyQXBwZWFyYW5jZXMsIGFwcGVhcmFuY2UpKSB7XG4gICAgICBhcHBlYXJhbmNlU3R5bGUgPSBMYXllckFwcGVhcmFuY2VzW2FwcGVhcmFuY2VdXG4gICAgfVxuXG4gICAgbGV0IGVsZXZhdGlvblN0eWxlXG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoZWxldmF0aW9uKSkge1xuICAgICAgZWxldmF0aW9uU3R5bGUgPSBFbGV2YXRpb25TdHlsZXNbZWxldmF0aW9uXVxuICAgIH1cblxuICAgIGxldCBob3ZlckVsZXZhdGlvblN0eWxlID0ge31cbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihob3ZlckVsZXZhdGlvbikpIHtcbiAgICAgIGhvdmVyRWxldmF0aW9uU3R5bGUgPSB7XG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogJzE1MG1zJyxcbiAgICAgICAgdHJhbnNpdGlvblByb3BlcnR5OiAnYm94LXNoYWRvdywgdHJhbnNmb3JtJyxcbiAgICAgICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBgY3ViaWMtYmV6aWVyKDAuMCwgMC4wLCAwLjIsIDEpYCxcbiAgICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgICAuLi4oY3NzWyc6aG92ZXInXSB8fCB7fSksXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtMnB4KScsXG4gICAgICAgICAgYm94U2hhZG93OiBFbGV2YXRpb25TdHlsZXNbaG92ZXJFbGV2YXRpb25dXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgYWN0aXZlRWxldmF0aW9uU3R5bGUgPSB7fVxuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGFjdGl2ZUVsZXZhdGlvbikpIHtcbiAgICAgIGFjdGl2ZUVsZXZhdGlvblN0eWxlID0ge1xuICAgICAgICAnOmFjdGl2ZSc6IHtcbiAgICAgICAgICAuLi4oY3NzWyc6YWN0aXZlJ10gfHwge30pLFxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTFweCknLFxuICAgICAgICAgIGJveFNoYWRvdzogRWxldmF0aW9uU3R5bGVzW2FjdGl2ZUVsZXZhdGlvbl1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IFtfYm9yZGVyVG9wLCBfYm9yZGVyUmlnaHQsIF9ib3JkZXJCb3R0b20sIF9ib3JkZXJMZWZ0XSA9IFtcbiAgICAgIGJvcmRlclRvcCxcbiAgICAgIGJvcmRlclJpZ2h0LFxuICAgICAgYm9yZGVyQm90dG9tLFxuICAgICAgYm9yZGVyTGVmdFxuICAgIF0ubWFwKGJvcmRlclNpZGVQcm9wZXJ0eSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChCb3JkZXJDb2xvcnMsIGJvcmRlclNpZGVQcm9wZXJ0eSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gYDFweCBzb2xpZCAke0JvcmRlckNvbG9yc1tib3JkZXJTaWRlUHJvcGVydHldfWBcbiAgICAgIH0gZWxzZSBpZiAoYm9yZGVyU2lkZVByb3BlcnR5ID09PSB0cnVlKSB7XG4gICAgICAgIC8vIFVzZSBkZWZhdWx0LCB3aGljaCBpcyBub3cgbXV0ZWQsIGJvcmRlciBjb2xvciB3aGVuIGV4cGxpY2l0bHkgYSB0cnVlIGJvb2xlYW5cbiAgICAgICAgcmV0dXJuIGAxcHggc29saWQgJHtCb3JkZXJDb2xvcnMubXV0ZWR9YFxuICAgICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoQm9yZGVyQ29sb3JzLCBib3JkZXIpKSB7XG4gICAgICAgIHJldHVybiBgMXB4IHNvbGlkICR7Qm9yZGVyQ29sb3JzW2JvcmRlcl19YFxuICAgICAgfSBlbHNlIGlmIChib3JkZXIgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGAxcHggc29saWQgJHtCb3JkZXJDb2xvcnMubXV0ZWR9YFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYm9yZGVyU2lkZVByb3BlcnR5XG4gICAgfSlcblxuICAgIHJldHVybiAoXG4gICAgICA8Qm94XG4gICAgICAgIGJvcmRlclRvcD17X2JvcmRlclRvcH1cbiAgICAgICAgYm9yZGVyUmlnaHQ9e19ib3JkZXJSaWdodH1cbiAgICAgICAgYm9yZGVyQm90dG9tPXtfYm9yZGVyQm90dG9tfVxuICAgICAgICBib3JkZXJMZWZ0PXtfYm9yZGVyTGVmdH1cbiAgICAgICAgYm94U2hhZG93PXtlbGV2YXRpb25TdHlsZX1cbiAgICAgICAgey4uLmFwcGVhcmFuY2VTdHlsZX1cbiAgICAgICAgY3NzPXt7XG4gICAgICAgICAgLi4uY3NzLFxuICAgICAgICAgIC4uLmhvdmVyRWxldmF0aW9uU3R5bGUsXG4gICAgICAgICAgLi4uYWN0aXZlRWxldmF0aW9uU3R5bGVcbiAgICAgICAgfX1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICApXG4gIH1cbn1cbiJdfQ==