'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _uiBox = require('ui-box');

var _layers = require('../../layers');

var _overlay = require('../../overlay');

var _SheetClose = require('./SheetClose');

var _SheetClose2 = _interopRequireDefault(_SheetClose);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var paneProps = {
  height: '100vh',
  position: 'absolute',
  right: 0
};

var animationEasing = {
  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',
  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)'
};

var ANIMATION_DURATION = 240;

var slideInAnimation = _uiBox.css.keyframes('slideInAnimation', {
  from: {
    transform: 'translateX(100%)'
  },
  to: {
    transform: 'translateX(0)'
  }
});

var slideOutAnimation = _uiBox.css.keyframes('slideOutAnimation', {
  from: {
    transform: 'translateX(0)'
  },
  to: {
    transform: 'translateX(100%)'
  }
});

var animationStyles = {
  transform: 'translateX(100%)',
  '&[data-state="entering"], &[data-state="entered"]': {
    animation: slideInAnimation + ' ' + ANIMATION_DURATION + 'ms ' + animationEasing.deceleration + ' both'
  },
  '&[data-state="exiting"]': {
    animation: slideOutAnimation + ' ' + ANIMATION_DURATION + 'ms ' + animationEasing.acceleration + ' both'
  }
};

var SideSheet = function (_React$Component) {
  _inherits(SideSheet, _React$Component);

  function SideSheet() {
    _classCallCheck(this, SideSheet);

    return _possibleConstructorReturn(this, (SideSheet.__proto__ || Object.getPrototypeOf(SideSheet)).apply(this, arguments));
  }

  _createClass(SideSheet, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          width = _props.width,
          containerProps = _props.containerProps,
          props = _objectWithoutProperties(_props, ['children', 'width', 'containerProps']);

      return _react2.default.createElement(
        _overlay.Overlay,
        props,
        function (_ref) {
          var state = _ref.state,
              close = _ref.close;
          return _react2.default.createElement(
            _layers.Pane,
            _extends({
              width: width
            }, paneProps, {
              css: animationStyles,
              'data-state': state
            }),
            _react2.default.createElement(_SheetClose2.default, { 'data-state': state, isClosing: false, onClick: close }),
            _react2.default.createElement(
              _layers.Pane,
              _extends({
                elevation: 4,
                backgroundColor: 'white',
                overflowY: 'auto',
                'data-state': state,
                width: width
              }, paneProps, containerProps),
              typeof children === 'function' ? children({ state: state, close: close }) : children
            )
          );
        }
      );
    }
  }]);

  return SideSheet;
}(_react2.default.Component);

SideSheet.propTypes = _extends({}, _overlay.Overlay.propTypes, {

  /**
   * Width of the SideSheet.
   */
  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),

  /**
   * Properties to pass through the SideSheet container Pane.
   */
  containerProps: _propTypes2.default.object
});
SideSheet.defaultProps = {
  width: 620
};
exports.default = SideSheet;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zaWRlLXNoZWV0L3NyYy9TaWRlU2hlZXQuanMiXSwibmFtZXMiOlsicGFuZVByb3BzIiwiaGVpZ2h0IiwicG9zaXRpb24iLCJyaWdodCIsImFuaW1hdGlvbkVhc2luZyIsImRlY2VsZXJhdGlvbiIsImFjY2VsZXJhdGlvbiIsIkFOSU1BVElPTl9EVVJBVElPTiIsInNsaWRlSW5BbmltYXRpb24iLCJrZXlmcmFtZXMiLCJmcm9tIiwidHJhbnNmb3JtIiwidG8iLCJzbGlkZU91dEFuaW1hdGlvbiIsImFuaW1hdGlvblN0eWxlcyIsImFuaW1hdGlvbiIsIlNpZGVTaGVldCIsInByb3BzIiwiY2hpbGRyZW4iLCJ3aWR0aCIsImNvbnRhaW5lclByb3BzIiwic3RhdGUiLCJjbG9zZSIsIkNvbXBvbmVudCIsInByb3BUeXBlcyIsIm9uZU9mVHlwZSIsInN0cmluZyIsIm51bWJlciIsIm9iamVjdCIsImRlZmF1bHRQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxZQUFZO0FBQ2hCQyxVQUFRLE9BRFE7QUFFaEJDLFlBQVUsVUFGTTtBQUdoQkMsU0FBTztBQUhTLENBQWxCOztBQU1BLElBQU1DLGtCQUFrQjtBQUN0QkMsZ0RBRHNCO0FBRXRCQztBQUZzQixDQUF4Qjs7QUFLQSxJQUFNQyxxQkFBcUIsR0FBM0I7O0FBRUEsSUFBTUMsbUJBQW1CLFdBQUlDLFNBQUosQ0FBYyxrQkFBZCxFQUFrQztBQUN6REMsUUFBTTtBQUNKQztBQURJLEdBRG1EO0FBSXpEQyxNQUFJO0FBQ0ZEO0FBREU7QUFKcUQsQ0FBbEMsQ0FBekI7O0FBU0EsSUFBTUUsb0JBQW9CLFdBQUlKLFNBQUosQ0FBYyxtQkFBZCxFQUFtQztBQUMzREMsUUFBTTtBQUNKQztBQURJLEdBRHFEO0FBSTNEQyxNQUFJO0FBQ0ZEO0FBREU7QUFKdUQsQ0FBbkMsQ0FBMUI7O0FBU0EsSUFBTUcsa0JBQWtCO0FBQ3RCSCwrQkFEc0I7QUFFdEIsdURBQXFEO0FBQ25ESSxlQUFjUCxnQkFBZCxTQUFrQ0Qsa0JBQWxDLFdBQ0VILGdCQUFnQkMsWUFEbEI7QUFEbUQsR0FGL0I7QUFPdEIsNkJBQTJCO0FBQ3pCVSxlQUFjRixpQkFBZCxTQUFtQ04sa0JBQW5DLFdBQ0VILGdCQUFnQkUsWUFEbEI7QUFEeUI7QUFQTCxDQUF4Qjs7SUFjTVUsUzs7Ozs7Ozs7Ozs7NkJBc0JLO0FBQUEsbUJBQytDLEtBQUtDLEtBRHBEO0FBQUEsVUFDQ0MsUUFERCxVQUNDQSxRQUREO0FBQUEsVUFDV0MsS0FEWCxVQUNXQSxLQURYO0FBQUEsVUFDa0JDLGNBRGxCLFVBQ2tCQSxjQURsQjtBQUFBLFVBQ3FDSCxLQURyQzs7QUFHUCxhQUNFO0FBQUE7QUFBYUEsYUFBYjtBQUNHO0FBQUEsY0FBR0ksS0FBSCxRQUFHQSxLQUFIO0FBQUEsY0FBVUMsS0FBVixRQUFVQSxLQUFWO0FBQUEsaUJBQ0M7QUFBQTtBQUFBO0FBQ0UscUJBQU9IO0FBRFQsZUFFTW5CLFNBRk47QUFHRSxtQkFBS2MsZUFIUDtBQUlFLDRCQUFZTztBQUpkO0FBTUUsa0VBQVksY0FBWUEsS0FBeEIsRUFBK0IsV0FBVyxLQUExQyxFQUFpRCxTQUFTQyxLQUExRCxHQU5GO0FBT0U7QUFBQTtBQUFBO0FBQ0UsMkJBQVcsQ0FEYjtBQUVFLGlDQUFnQixPQUZsQjtBQUdFLDJCQUFVLE1BSFo7QUFJRSw4QkFBWUQsS0FKZDtBQUtFLHVCQUFPRjtBQUxULGlCQU1NbkIsU0FOTixFQU9Nb0IsY0FQTjtBQVNHLHFCQUFPRixRQUFQLEtBQW9CLFVBQXBCLEdBQ0dBLFNBQVMsRUFBRUcsWUFBRixFQUFTQyxZQUFULEVBQVQsQ0FESCxHQUVHSjtBQVhOO0FBUEYsV0FERDtBQUFBO0FBREgsT0FERjtBQTJCRDs7OztFQXBEcUIsZ0JBQU1LLFM7O0FBQXhCUCxTLENBQ0dRLFMsZ0JBSUYsaUJBQVFBLFM7O0FBRVg7OztBQUdBTCxTQUFPLG9CQUFVTSxTQUFWLENBQW9CLENBQUMsb0JBQVVDLE1BQVgsRUFBbUIsb0JBQVVDLE1BQTdCLENBQXBCLEM7O0FBRVA7OztBQUdBUCxrQkFBZ0Isb0JBQVVROztBQWZ4QlosUyxDQWtCR2EsWSxHQUFlO0FBQ3BCVixTQUFPO0FBRGEsQztrQkFxQ1RILFMiLCJmaWxlIjoiU2lkZVNoZWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJ1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAndWktYm94J1xuaW1wb3J0IHsgUGFuZSB9IGZyb20gJy4uLy4uL2xheWVycydcbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuLi8uLi9vdmVybGF5J1xuaW1wb3J0IFNoZWV0Q2xvc2UgZnJvbSAnLi9TaGVldENsb3NlJ1xuXG5jb25zdCBwYW5lUHJvcHMgPSB7XG4gIGhlaWdodDogJzEwMHZoJyxcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHJpZ2h0OiAwXG59XG5cbmNvbnN0IGFuaW1hdGlvbkVhc2luZyA9IHtcbiAgZGVjZWxlcmF0aW9uOiBgY3ViaWMtYmV6aWVyKDAuMCwgMC4wLCAwLjIsIDEpYCxcbiAgYWNjZWxlcmF0aW9uOiBgY3ViaWMtYmV6aWVyKDAuNCwgMC4wLCAxLCAxKWBcbn1cblxuY29uc3QgQU5JTUFUSU9OX0RVUkFUSU9OID0gMjQwXG5cbmNvbnN0IHNsaWRlSW5BbmltYXRpb24gPSBjc3Mua2V5ZnJhbWVzKCdzbGlkZUluQW5pbWF0aW9uJywge1xuICBmcm9tOiB7XG4gICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgxMDAlKWBcbiAgfSxcbiAgdG86IHtcbiAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKDApYFxuICB9XG59KVxuXG5jb25zdCBzbGlkZU91dEFuaW1hdGlvbiA9IGNzcy5rZXlmcmFtZXMoJ3NsaWRlT3V0QW5pbWF0aW9uJywge1xuICBmcm9tOiB7XG4gICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgwKWBcbiAgfSxcbiAgdG86IHtcbiAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKDEwMCUpYFxuICB9XG59KVxuXG5jb25zdCBhbmltYXRpb25TdHlsZXMgPSB7XG4gIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoMTAwJSlgLFxuICAnJltkYXRhLXN0YXRlPVwiZW50ZXJpbmdcIl0sICZbZGF0YS1zdGF0ZT1cImVudGVyZWRcIl0nOiB7XG4gICAgYW5pbWF0aW9uOiBgJHtzbGlkZUluQW5pbWF0aW9ufSAke0FOSU1BVElPTl9EVVJBVElPTn1tcyAke1xuICAgICAgYW5pbWF0aW9uRWFzaW5nLmRlY2VsZXJhdGlvblxuICAgIH0gYm90aGBcbiAgfSxcbiAgJyZbZGF0YS1zdGF0ZT1cImV4aXRpbmdcIl0nOiB7XG4gICAgYW5pbWF0aW9uOiBgJHtzbGlkZU91dEFuaW1hdGlvbn0gJHtBTklNQVRJT05fRFVSQVRJT059bXMgJHtcbiAgICAgIGFuaW1hdGlvbkVhc2luZy5hY2NlbGVyYXRpb25cbiAgICB9IGJvdGhgXG4gIH1cbn1cblxuY2xhc3MgU2lkZVNoZWV0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyB0aGUgT3ZlcmxheSBjb21wb25lbnRzIGFzIHRoZSBiYXNlLlxuICAgICAqL1xuICAgIC4uLk92ZXJsYXkucHJvcFR5cGVzLFxuXG4gICAgLyoqXG4gICAgICogV2lkdGggb2YgdGhlIFNpZGVTaGVldC5cbiAgICAgKi9cbiAgICB3aWR0aDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pLFxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyB0byBwYXNzIHRocm91Z2ggdGhlIFNpZGVTaGVldCBjb250YWluZXIgUGFuZS5cbiAgICAgKi9cbiAgICBjb250YWluZXJQcm9wczogUHJvcFR5cGVzLm9iamVjdFxuICB9XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICB3aWR0aDogNjIwXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgd2lkdGgsIGNvbnRhaW5lclByb3BzLCAuLi5wcm9wcyB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxPdmVybGF5IHsuLi5wcm9wc30+XG4gICAgICAgIHsoeyBzdGF0ZSwgY2xvc2UgfSkgPT4gKFxuICAgICAgICAgIDxQYW5lXG4gICAgICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAgICAgICB7Li4ucGFuZVByb3BzfVxuICAgICAgICAgICAgY3NzPXthbmltYXRpb25TdHlsZXN9XG4gICAgICAgICAgICBkYXRhLXN0YXRlPXtzdGF0ZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8U2hlZXRDbG9zZSBkYXRhLXN0YXRlPXtzdGF0ZX0gaXNDbG9zaW5nPXtmYWxzZX0gb25DbGljaz17Y2xvc2V9IC8+XG4gICAgICAgICAgICA8UGFuZVxuICAgICAgICAgICAgICBlbGV2YXRpb249ezR9XG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcj1cIndoaXRlXCJcbiAgICAgICAgICAgICAgb3ZlcmZsb3dZPVwiYXV0b1wiXG4gICAgICAgICAgICAgIGRhdGEtc3RhdGU9e3N0YXRlfVxuICAgICAgICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAgICAgICAgIHsuLi5wYW5lUHJvcHN9XG4gICAgICAgICAgICAgIHsuLi5jb250YWluZXJQcm9wc31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3R5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gY2hpbGRyZW4oeyBzdGF0ZSwgY2xvc2UgfSlcbiAgICAgICAgICAgICAgICA6IGNoaWxkcmVufVxuICAgICAgICAgICAgPC9QYW5lPlxuICAgICAgICAgIDwvUGFuZT5cbiAgICAgICAgKX1cbiAgICAgIDwvT3ZlcmxheT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2lkZVNoZWV0XG4iXX0=