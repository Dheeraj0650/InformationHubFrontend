{"ast":null,"code":"var _jsxFileName = \"/Users/kottedheeru/Documents/InformationHubFrontend/src/components/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport SwipeableViews from 'react-swipeable-views';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport { useDispatch } from 'react-redux';\nimport GoogleLogin from 'react-google-login';\nimport GitHubLogin from 'react-login-github';\nimport Cookies from 'js-cookie';\nimport socialMediaAuth from '../config/auth';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { googleProvider, githubProvider, microsoftProvider } from '../config/authMethods';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `full-width-tabpanel-${index}`,\n    \"aria-labelledby\": `full-width-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      p: 3,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 1000,\n    outline: null\n  }\n}));\nexport default function FullWidthTabs(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const [alert_1, changeAlert_1] = useState([false, '']);\n  const [alert_2, changeAlert_2] = useState([false, '']);\n  const [alert_3, changeAlert_3] = useState([false, '']);\n  const [alert_4, changeAlert_4] = useState([false, '']);\n  const [alert_5, changeAlert_5] = useState([false, '']);\n  const [circularProgress, setCircularProgress] = useState(\"static\");\n  let verify = false;\n\n  function validateUsername(event) {\n    var username = event.target.value;\n    var usernamepattern = /^[A-Za-z .]{3,15}$/;\n\n    if (usernamepattern.test(username)) {\n      if (event.target.name.charAt(event.target.name.length - 1) === '3') {\n        changeAlert_5([true, \"\"]);\n      } else {\n        changeAlert_3([true, \"\"]);\n      }\n    } else {\n      if (event.target.name.charAt(event.target.name.length - 1) === '3') {\n        changeAlert_5([false, \"* invalid username, username should contain only characters [A-Z][a-z] and length should be in between 3 and 15\"]);\n      } else {\n        changeAlert_3([false, \"* invalid username, username should contain only characters [A-Z][a-z] and length should be in between 3 and 15\"]);\n      }\n    }\n  }\n\n  function validatePassword(event) {\n    var str = event.target.value;\n    var res;\n    if (str.match(/[a-z]/g) && str.match(/[A-Z]/g) && str.match(/[0-9]/g) && str.match(/[^a-zA-Z\\d]/g) && str.length >= 8) res = 1;else res = 0;\n\n    if (event.target.name.charAt(event.target.name.length - 1) === '1') {\n      if (res === 1) {\n        changeAlert_2([true, \"\"]);\n      } else {\n        changeAlert_2([false, \"* weak password A password is correct if it contains: 1) At least 1 uppercase character.2) At least 1 lowercase character.3) At least 1 digit.4) At least 1 special character.5) Minimum 8 characters.\"]);\n\n        if (str === \"\") {\n          changeAlert_2([true, \"\"]);\n        }\n      }\n    } else {\n      if (res === 1) {\n        changeAlert_4([true, \"\"]);\n      } else {\n        changeAlert_4([false, \"* invalid password \"]);\n\n        if (str === \"\") {\n          changeAlert_4([true, \"\"]);\n        }\n      }\n    }\n  }\n\n  function validateEmail(event) {\n    var str = event.target.value;\n    var res;\n\n    if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(str)) {\n      res = 1;\n    } else {\n      res = 0;\n    }\n\n    if (event.target.name.charAt(event.target.name.length - 1) === '1') {\n      if (res === 1) {\n        changeAlert_1([true, \"\"]);\n      } else {\n        changeAlert_1([false, \"* invalid email \"]);\n\n        if (str === \"\") {\n          changeAlert_1([true, \"\"]);\n        }\n      }\n    } else {\n      if (res === 1) {\n        changeAlert_3([true, \"\"]);\n      } else {\n        changeAlert_3([false, \"* invalid email \"]);\n\n        if (str === \"\") {\n          changeAlert_3([true, \"\"]);\n        }\n      }\n    }\n  }\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = index => {\n    setValue(index);\n  };\n\n  function Users(details, method) {\n    var formBody = [];\n\n    for (var property in details) {\n      var encodedKey = encodeURIComponent(property);\n      var encodedValue = encodeURIComponent(details[property]);\n      formBody.push(encodedKey + \"=\" + encodedValue);\n    }\n\n    formBody = formBody.join(\"&\");\n    fetch('https://information-hub-backend.herokuapp.com/' + method, {\n      method: 'POST',\n      body: formBody,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    }).then(response => {\n      var data = response.text();\n      var p = Promise.resolve(data);\n      p.then(function (value) {\n        setCircularProgress(\"static\");\n\n        if (value === \"Successful\") {\n          dispatch({\n            type: 'login'\n          });\n        } else {\n          if (method === 'login') {\n            changeAlert_4([true, value]);\n          } else {\n            changeAlert_2([true, value]);\n          }\n\n          dispatch({\n            type: 'logout'\n          });\n        }\n      });\n    });\n  }\n\n  const clickHandler = event => {\n    event.preventDefault();\n\n    if (event.target.username_3) {\n      setCircularProgress(\"indeterminate\");\n\n      if (alert_1[0] && alert_2[0] && alert_5[0]) {\n        const username = event.target.username_3.value;\n        const email = event.target.username_1.value;\n        const password = event.target.password_1.value;\n        let details = {\n          'email': email,\n          'username': username,\n          'password': password\n        };\n        Users(details, 'register');\n      }\n    } else {\n      setCircularProgress(\"indeterminate\");\n\n      if (alert_3[0] && alert_4[0]) {\n        const username = event.target.username_2.value;\n        const password = event.target.password_2.value;\n        let details = {\n          'username': username,\n          'password': password\n        };\n        Users(details, 'login');\n      }\n    }\n  };\n\n  const clickHandlerOAuth = async method => {\n    setCircularProgress(\"indeterminate\");\n    const res = await socialMediaAuth(method);\n    const username = res.displayName;\n    const email = res.email;\n    const googleId = res.uid;\n    let details = {\n      'email': email,\n      'username': username,\n      'googleId': googleId\n    };\n\n    if (res.email) {\n      if (method === googleProvider) {\n        Users(details, 'auth/google');\n      } else if (method === githubProvider) {\n        Users(details, 'auth/github');\n      } else if (method === microsoftProvider) {\n        Users(details, 'auth/microsoft');\n      }\n    } else {\n      setCircularProgress(\"static\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      color: \"default\",\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleChange,\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        variant: \"fullWidth\",\n        \"aria-label\": \"full width tabs example\",\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Signup\",\n          ...a11yProps(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"Login\",\n          ...a11yProps(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"OAuth\",\n          ...a11yProps(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SwipeableViews, {\n      axis: theme.direction === 'rtl' ? 'x-reverse' : 'x',\n      index: value,\n      onChangeIndex: handleChangeIndex,\n      children: [/*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 0,\n        dir: theme.direction,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"signup\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: clickHandler,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"chk\",\n                \"aria-hidden\": \"true\",\n                class: \"login-label\",\n                children: \"Sign up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: validateUsername,\n                type: \"name\",\n                name: \"username_3\",\n                placeholder: \"Username\",\n                required: \"\",\n                class: \"login-input username-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"alert\",\n                children: alert_5[1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: validateEmail,\n                type: \"email\",\n                name: \"username_1\",\n                placeholder: \"Email\",\n                required: \"\",\n                class: \"login-input username-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"alert\",\n                children: alert_1[1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: validatePassword,\n                type: \"password\",\n                name: \"password_1\",\n                placeholder: \"Password\",\n                required: \"\",\n                class: \"login-input password-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"alert\",\n                children: alert_2[1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 15\n              }, this), circularProgress === \"indeterminate\" && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                color: \"primary\",\n                variant: circularProgress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 54\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                class: \"hover-button\",\n                children: \"Sign up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 1,\n        dir: theme.direction,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"login\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: clickHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"chk\",\n              \"aria-hidden\": \"true\",\n              class: \"login-label\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: validateUsername,\n              type: \"name\",\n              name: \"username_2\",\n              placeholder: \"Username\",\n              required: \"\",\n              class: \"login-input username-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"alert\",\n              children: alert_3[1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: validatePassword,\n              type: \"password\",\n              name: \"password_2\",\n              placeholder: \"Password\",\n              required: \"\",\n              class: \"login-input password-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"alert\",\n              children: alert_4[1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), circularProgress === \"indeterminate\" && /*#__PURE__*/_jsxDEV(CircularProgress, {\n              color: \"primary\",\n              variant: circularProgress\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 54\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              class: \"hover-button\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 2,\n        dir: theme.direction,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container-fluid\",\n          style: {\n            lineHeight: \"5\",\n            display: \"grid\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => clickHandlerOAuth(googleProvider),\n            class: \"btn btn-outline-danger btn-block btn-6\",\n            style: {\n              fontSize: \"1.15rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fab fa-google\",\n              style: {\n                paddingRight: \"1rem\",\n                fontSize: \"1.4rem\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 144\n            }, this), \" Sign in with \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Google\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 235\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => clickHandlerOAuth(microsoftProvider),\n            class: \"btn btn-outline-success btn-block btn-4\",\n            style: {\n              fontSize: \"1.15rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fab fa-microsoft\",\n              style: {\n                paddingRight: \"1rem\",\n                fontSize: \"1.4rem\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 148\n            }, this), \" Sign in with \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Microsoft\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 242\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            onClick: () => clickHandlerOAuth(githubProvider),\n            class: \"btn btn-outline-dark btn-block btn-5\",\n            style: {\n              fontSize: \"1.15rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fab fa-github \",\n              style: {\n                paddingRight: \"1rem\",\n                fontSize: \"1.4rem\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 142\n            }, this), \"Sign in with \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Github\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 233\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FullWidthTabs, \"kVv7U7PyrFJ0r/mw5I7egGX+v1g=\", false, function () {\n  return [useDispatch, useStyles, useTheme];\n});\n\n_c2 = FullWidthTabs;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"FullWidthTabs\");","map":{"version":3,"sources":["/Users/kottedheeru/Documents/InformationHubFrontend/src/components/Login.jsx"],"names":["React","useState","PropTypes","SwipeableViews","makeStyles","useTheme","AppBar","Tabs","Tab","Typography","Box","useDispatch","GoogleLogin","GitHubLogin","Cookies","socialMediaAuth","CircularProgress","googleProvider","githubProvider","microsoftProvider","TabPanel","props","children","value","index","other","propTypes","node","any","isRequired","a11yProps","id","useStyles","theme","root","backgroundColor","palette","background","paper","width","outline","FullWidthTabs","dispatch","alert_1","changeAlert_1","alert_2","changeAlert_2","alert_3","changeAlert_3","alert_4","changeAlert_4","alert_5","changeAlert_5","circularProgress","setCircularProgress","verify","validateUsername","event","username","target","usernamepattern","test","name","charAt","length","validatePassword","str","res","match","validateEmail","classes","setValue","handleChange","newValue","handleChangeIndex","Users","details","method","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","fetch","body","headers","then","response","data","text","p","Promise","resolve","type","clickHandler","preventDefault","username_3","email","username_1","password","password_1","username_2","password_2","clickHandlerOAuth","displayName","googleId","uid","direction","lineHeight","display","justifyContent","alignItems","fontSize","paddingRight"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,0BAArC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,eAAP,MAA4B,gBAA5B;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,SAAQC,cAAR,EAAuBC,cAAvB,EAAsCC,iBAAtC,QAA8D,uBAA9D;;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA,KAAnB;AAA0B,OAAGC;AAA7B,MAAuCJ,KAA7C;AACA,sBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,MAAM,EAAEE,KAAK,KAAKC,KAFpB;AAGE,IAAA,EAAE,EAAG,uBAAsBA,KAAM,EAHnC;AAIE,uBAAkB,kBAAiBA,KAAM,EAJ3C;AAAA,OAKMC,KALN;AAAA,cAQGF,KAAK,KAAKC,KAAV,iBACC,QAAC,GAAD;AAAK,MAAA,CAAC,EAAE,CAAR;AAAA,6BACE,QAAC,UAAD;AAAA,kBAAaF;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,UADF;AAgBD;;KAlBQF,Q;AAoBTA,QAAQ,CAACM,SAAT,GAAqB;AACnBJ,EAAAA,QAAQ,EAAEpB,SAAS,CAACyB,IADD;AAEnBH,EAAAA,KAAK,EAAEtB,SAAS,CAAC0B,GAAV,CAAcC,UAFF;AAGnBN,EAAAA,KAAK,EAAErB,SAAS,CAAC0B,GAAV,CAAcC;AAHF,CAArB;;AAMA,SAASC,SAAT,CAAmBN,KAAnB,EAA0B;AACxB,SAAO;AACLO,IAAAA,EAAE,EAAG,kBAAiBP,KAAM,EADvB;AAEL,qBAAkB,uBAAsBA,KAAM;AAFzC,GAAP;AAID;;AAED,MAAMQ,SAAS,GAAG5B,UAAU,CAAE6B,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,UAAd,CAAyBC,KADtC;AAEJC,IAAAA,KAAK,EAAE,IAFH;AAGJC,IAAAA,OAAO,EAAC;AAHJ;AADiC,CAAZ,CAAD,CAA5B;AAQA,eAAe,SAASC,aAAT,CAAuBpB,KAAvB,EAA8B;AAAA;;AAC3C,QAAMqB,QAAQ,GAAG/B,WAAW,EAA5B;AACA,QAAM,CAACgC,OAAD,EAASC,aAAT,IAA0B3C,QAAQ,CAAC,CAAC,KAAD,EAAO,EAAP,CAAD,CAAxC;AACA,QAAM,CAAC4C,OAAD,EAASC,aAAT,IAA0B7C,QAAQ,CAAC,CAAC,KAAD,EAAO,EAAP,CAAD,CAAxC;AACA,QAAM,CAAC8C,OAAD,EAASC,aAAT,IAA0B/C,QAAQ,CAAC,CAAC,KAAD,EAAO,EAAP,CAAD,CAAxC;AACA,QAAM,CAACgD,OAAD,EAASC,aAAT,IAA0BjD,QAAQ,CAAC,CAAC,KAAD,EAAO,EAAP,CAAD,CAAxC;AACA,QAAM,CAACkD,OAAD,EAASC,aAAT,IAA0BnD,QAAQ,CAAC,CAAC,KAAD,EAAO,EAAP,CAAD,CAAxC;AACA,QAAM,CAACoD,gBAAD,EAAkBC,mBAAlB,IAAyCrD,QAAQ,CAAC,QAAD,CAAvD;AAEA,MAAIsD,MAAM,GAAG,KAAb;;AAEA,WAASC,gBAAT,CAA0BC,KAA1B,EAAgC;AAC7B,QAAIC,QAAQ,GAACD,KAAK,CAACE,MAAN,CAAapC,KAA1B;AACA,QAAIqC,eAAe,GAAC,oBAApB;;AACA,QAAGA,eAAe,CAACC,IAAhB,CAAqBH,QAArB,CAAH,EACA;AACG,UAAID,KAAK,CAACE,MAAN,CAAaG,IAAb,CAAkBC,MAAlB,CAAyBN,KAAK,CAACE,MAAN,CAAaG,IAAb,CAAkBE,MAAlB,GAAyB,CAAlD,CAAD,KAAyD,GAA5D,EACA;AACEZ,QAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACD,OAHD,MAII;AACFJ,QAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACD;AACF,KATF,MAWC;AACE,UAAIS,KAAK,CAACE,MAAN,CAAaG,IAAb,CAAkBC,MAAlB,CAAyBN,KAAK,CAACE,MAAN,CAAaG,IAAb,CAAkBE,MAAlB,GAAyB,CAAlD,CAAD,KAAyD,GAA5D,EACA;AACEZ,QAAAA,aAAa,CAAC,CAAC,KAAD,EAAO,iHAAP,CAAD,CAAb;AACD,OAHD,MAII;AACFJ,QAAAA,aAAa,CAAC,CAAC,KAAD,EAAO,iHAAP,CAAD,CAAb;AACD;AACF;AACJ;;AAED,WAASiB,gBAAT,CAA0BR,KAA1B,EAAiC;AAC9B,QAAIS,GAAG,GAAGT,KAAK,CAACE,MAAN,CAAapC,KAAvB;AACA,QAAI4C,GAAJ;AACA,QAAID,GAAG,CAACE,KAAJ,CAAU,QAAV,KAAuBF,GAAG,CAACE,KAAJ,CAAU,QAAV,CAAvB,IAA8CF,GAAG,CAACE,KAAJ,CAAU,QAAV,CAA9C,IAAqEF,GAAG,CAACE,KAAJ,CAAU,cAAV,CAArE,IAAkGF,GAAG,CAACF,MAAJ,IAAc,CAApH,EACIG,GAAG,GAAG,CAAN,CADJ,KAGIA,GAAG,GAAG,CAAN;;AAEL,QAAIV,KAAK,CAACE,MAAN,CAAaG,IAAb,CAAkBC,MAAlB,CAAyBN,KAAK,CAACE,MAAN,CAAaG,IAAb,CAAkBE,MAAlB,GAAyB,CAAlD,CAAD,KAAyD,GAA5D,EACA;AAAI,UAAGG,GAAG,KAAK,CAAX,EAAa;AACXrB,QAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACD,OAFD,MAGI;AACFA,QAAAA,aAAa,CAAC,CAAC,KAAD,EAAO,wMAAP,CAAD,CAAb;;AACA,YAAGoB,GAAG,KAAG,EAAT,EAAY;AACTpB,UAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACF;AACF;AACJ,KAVD,MAWI;AACA,UAAGqB,GAAG,KAAK,CAAX,EAAa;AACTjB,QAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACH,OAFD,MAGI;AACFA,QAAAA,aAAa,CAAC,CAAC,KAAD,EAAO,qBAAP,CAAD,CAAb;;AACA,YAAGgB,GAAG,KAAG,EAAT,EAAY;AACThB,UAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACF;AACF;AACJ;AAGF;;AAGD,WAASmB,aAAT,CAAuBZ,KAAvB,EACA;AACE,QAAIS,GAAG,GAAGT,KAAK,CAACE,MAAN,CAAapC,KAAvB;AACA,QAAI4C,GAAJ;;AACD,QAAI,uEAAuEN,IAAvE,CAA4EK,GAA5E,CAAJ,EACC;AACEC,MAAAA,GAAG,GAAG,CAAN;AACD,KAHF,MAIK;AACFA,MAAAA,GAAG,GAAG,CAAN;AACD;;AAED,QAAIV,KAAK,CAACE,MAAN,CAAaG,IAAb,CAAkBC,MAAlB,CAAyBN,KAAK,CAACE,MAAN,CAAaG,IAAb,CAAkBE,MAAlB,GAAyB,CAAlD,CAAD,KAAyD,GAA5D,EACA;AACE,UAAGG,GAAG,KAAK,CAAX,EAAa;AACRvB,QAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACD,OAFJ,MAGO;AACFA,QAAAA,aAAa,CAAC,CAAC,KAAD,EAAO,kBAAP,CAAD,CAAb;;AACA,YAAGsB,GAAG,KAAG,EAAT,EAAY;AACTtB,UAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACF;AACF;AACL,KAXD,MAYI;AACF,UAAGuB,GAAG,KAAK,CAAX,EAAa;AACVnB,QAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACF,OAFD,MAGI;AACDA,QAAAA,aAAa,CAAC,CAAC,KAAD,EAAO,kBAAP,CAAD,CAAb;;AACA,YAAGkB,GAAG,KAAG,EAAT,EAAY;AACTlB,UAAAA,aAAa,CAAC,CAAC,IAAD,EAAM,EAAN,CAAD,CAAb;AACF;AACF;AACH;AAGF;;AAGD,QAAMsB,OAAO,GAAGtC,SAAS,EAAzB;AACA,QAAMC,KAAK,GAAG5B,QAAQ,EAAtB;AACA,QAAM,CAACkB,KAAD,EAAQgD,QAAR,IAAoBvE,KAAK,CAACC,QAAN,CAAe,CAAf,CAA1B;;AAEA,QAAMuE,YAAY,GAAG,CAACf,KAAD,EAAQgB,QAAR,KAAqB;AACxCF,IAAAA,QAAQ,CAACE,QAAD,CAAR;AACD,GAFD;;AAIA,QAAMC,iBAAiB,GAAIlD,KAAD,IAAW;AACnC+C,IAAAA,QAAQ,CAAC/C,KAAD,CAAR;AACD,GAFD;;AAIA,WAASmD,KAAT,CAAeC,OAAf,EAAuBC,MAAvB,EAA8B;AAC5B,QAAIC,QAAQ,GAAG,EAAf;;AACA,SAAK,IAAIC,QAAT,IAAqBH,OAArB,EAA8B;AAC5B,UAAII,UAAU,GAAGC,kBAAkB,CAACF,QAAD,CAAnC;AACA,UAAIG,YAAY,GAAGD,kBAAkB,CAACL,OAAO,CAACG,QAAD,CAAR,CAArC;AACAD,MAAAA,QAAQ,CAACK,IAAT,CAAcH,UAAU,GAAG,GAAb,GAAmBE,YAAjC;AACD;;AACDJ,IAAAA,QAAQ,GAAGA,QAAQ,CAACM,IAAT,CAAc,GAAd,CAAX;AACAC,IAAAA,KAAK,CAAC,mDAAmDR,MAApD,EAA2D;AAC9DA,MAAAA,MAAM,EAAE,MADsD;AAE9DS,MAAAA,IAAI,EAAER,QAFwD;AAG9DS,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHqD,KAA3D,CAAL,CAOCC,IAPD,CAOOC,QAAD,IAAc;AAChB,UAAIC,IAAI,GAAGD,QAAQ,CAACE,IAAT,EAAX;AACA,UAAIC,CAAC,GAAGC,OAAO,CAACC,OAAR,CAAgBJ,IAAhB,CAAR;AACAE,MAAAA,CAAC,CAACJ,IAAF,CAAO,UAASjE,KAAT,EAAgB;AAClB+B,QAAAA,mBAAmB,CAAC,QAAD,CAAnB;;AACA,YAAG/B,KAAK,KAAK,YAAb,EAA0B;AACtBmB,UAAAA,QAAQ,CAAC;AAACqD,YAAAA,IAAI,EAAC;AAAN,WAAD,CAAR;AACH,SAFD,MAGI;AACA,cAAGlB,MAAM,KAAK,OAAd,EAAsB;AACpB3B,YAAAA,aAAa,CAAC,CAAC,IAAD,EAAM3B,KAAN,CAAD,CAAb;AACD,WAFD,MAGI;AACFuB,YAAAA,aAAa,CAAC,CAAC,IAAD,EAAMvB,KAAN,CAAD,CAAb;AACD;;AACDmB,UAAAA,QAAQ,CAAC;AAACqD,YAAAA,IAAI,EAAC;AAAN,WAAD,CAAR;AACH;AACJ,OAdF;AAeH,KAzBD;AA0BD;;AAED,QAAMC,YAAY,GAAIvC,KAAD,IAAW;AAC5BA,IAAAA,KAAK,CAACwC,cAAN;;AACA,QAAGxC,KAAK,CAACE,MAAN,CAAauC,UAAhB,EAA2B;AACzB5C,MAAAA,mBAAmB,CAAC,eAAD,CAAnB;;AACA,UAAGX,OAAO,CAAC,CAAD,CAAP,IAAcE,OAAO,CAAC,CAAD,CAArB,IAA4BM,OAAO,CAAC,CAAD,CAAtC,EAA0C;AACxC,cAAMO,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAauC,UAAb,CAAwB3E,KAAzC;AACA,cAAM4E,KAAK,GAAG1C,KAAK,CAACE,MAAN,CAAayC,UAAb,CAAwB7E,KAAtC;AACA,cAAM8E,QAAQ,GAAG5C,KAAK,CAACE,MAAN,CAAa2C,UAAb,CAAwB/E,KAAzC;AACA,YAAIqD,OAAO,GAAG;AACZ,mBAAQuB,KADI;AAEZ,sBAAWzC,QAFC;AAGZ,sBAAW2C;AAHC,SAAd;AAKA1B,QAAAA,KAAK,CAACC,OAAD,EAAS,UAAT,CAAL;AACD;AACF,KAbD,MAcI;AACFtB,MAAAA,mBAAmB,CAAC,eAAD,CAAnB;;AACA,UAAGP,OAAO,CAAC,CAAD,CAAP,IAAcE,OAAO,CAAC,CAAD,CAAxB,EAA4B;AAC1B,cAAMS,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa4C,UAAb,CAAwBhF,KAAzC;AACA,cAAM8E,QAAQ,GAAG5C,KAAK,CAACE,MAAN,CAAa6C,UAAb,CAAwBjF,KAAzC;AACA,YAAIqD,OAAO,GAAG;AACZ,sBAAWlB,QADC;AAEZ,sBAAW2C;AAFC,SAAd;AAIA1B,QAAAA,KAAK,CAACC,OAAD,EAAS,OAAT,CAAL;AACD;AACF;AACJ,GA5BD;;AA8BA,QAAM6B,iBAAiB,GAAG,MAAO5B,MAAP,IAAkB;AAC1CvB,IAAAA,mBAAmB,CAAC,eAAD,CAAnB;AACA,UAAMa,GAAG,GAAG,MAAMpD,eAAe,CAAC8D,MAAD,CAAjC;AACA,UAAMnB,QAAQ,GAAGS,GAAG,CAACuC,WAArB;AACA,UAAMP,KAAK,GAAGhC,GAAG,CAACgC,KAAlB;AACA,UAAMQ,QAAQ,GAAGxC,GAAG,CAACyC,GAArB;AACA,QAAIhC,OAAO,GAAG;AACZ,eAAQuB,KADI;AAEZ,kBAAWzC,QAFC;AAGZ,kBAAWiD;AAHC,KAAd;;AAKA,QAAGxC,GAAG,CAACgC,KAAP,EAAa;AACX,UAAGtB,MAAM,KAAK5D,cAAd,EAA6B;AAC3B0D,QAAAA,KAAK,CAACC,OAAD,EAAS,aAAT,CAAL;AACD,OAFD,MAGK,IAAGC,MAAM,KAAK3D,cAAd,EAA6B;AAChCyD,QAAAA,KAAK,CAACC,OAAD,EAAS,aAAT,CAAL;AACD,OAFI,MAGA,IAAGC,MAAM,KAAK1D,iBAAd,EAAgC;AACnCwD,QAAAA,KAAK,CAACC,OAAD,EAAS,gBAAT,CAAL;AACD;AACF,KAVD,MAWI;AACFtB,MAAAA,mBAAmB,CAAC,QAAD,CAAnB;AACD;AAEF,GA1BD;;AA4BA,sBACE;AAAK,IAAA,SAAS,EAAEgB,OAAO,CAACpC,IAAxB;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,QAAQ,EAAC,QAAjB;AAA0B,MAAA,KAAK,EAAC,SAAhC;AAAA,6BACE,QAAC,IAAD;AACE,QAAA,KAAK,EAAEX,KADT;AAEE,QAAA,QAAQ,EAAEiD,YAFZ;AAGE,QAAA,cAAc,EAAC,SAHjB;AAIE,QAAA,SAAS,EAAC,SAJZ;AAKE,QAAA,OAAO,EAAC,WALV;AAME,sBAAW,yBANb;AAAA,gCAQE,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,QAAX;AAAA,aAAwB1C,SAAS,CAAC,CAAD;AAAjC;AAAA;AAAA;AAAA;AAAA,gBARF,eASE,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,OAAX;AAAA,aAAuBA,SAAS,CAAC,CAAD;AAAhC;AAAA;AAAA;AAAA;AAAA,gBATF,eAUE,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,OAAX;AAAA,aAAuBA,SAAS,CAAC,CAAD;AAAhC;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAeE,QAAC,cAAD;AACE,MAAA,IAAI,EAAEG,KAAK,CAAC4E,SAAN,KAAoB,KAApB,GAA4B,WAA5B,GAA0C,GADlD;AAEE,MAAA,KAAK,EAAEtF,KAFT;AAGE,MAAA,aAAa,EAAEmD,iBAHjB;AAAA,8BAKE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAEnD,KAAjB;AAAwB,QAAA,KAAK,EAAE,CAA/B;AAAkC,QAAA,GAAG,EAAEU,KAAK,CAAC4E,SAA7C;AAAA,+BACA;AAAK,UAAA,KAAK,EAAC,iBAAX;AAAA,iCACA;AAAK,YAAA,KAAK,EAAC,QAAX;AAAA,mCACI;AAAM,cAAA,QAAQ,EAAIb,YAAlB;AAAA,sCACE;AAAO,gBAAA,GAAG,EAAC,KAAX;AAAiB,+BAAY,MAA7B;AAAoC,gBAAA,KAAK,EAAC,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAO,gBAAA,QAAQ,EAAIxC,gBAAnB;AAAqC,gBAAA,IAAI,EAAC,MAA1C;AAAiD,gBAAA,IAAI,EAAC,YAAtD;AAAmE,gBAAA,WAAW,EAAC,UAA/E;AAA0F,gBAAA,QAAQ,EAAC,EAAnG;AAAsG,gBAAA,KAAK,EAAC;AAA5G;AAAA;AAAA;AAAA;AAAA,sBAFF,eAGE;AAAG,gBAAA,SAAS,EAAG,OAAf;AAAA,0BAAwBL,OAAO,CAAC,CAAD;AAA/B;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE;AAAO,gBAAA,QAAQ,EAAEkB,aAAjB;AAAiC,gBAAA,IAAI,EAAC,OAAtC;AAA8C,gBAAA,IAAI,EAAC,YAAnD;AAAgE,gBAAA,WAAW,EAAC,OAA5E;AAAoF,gBAAA,QAAQ,EAAC,EAA7F;AAAgG,gBAAA,KAAK,EAAC;AAAtG;AAAA;AAAA;AAAA;AAAA,sBAJF,eAKE;AAAG,gBAAA,SAAS,EAAG,OAAf;AAAA,0BAAwB1B,OAAO,CAAC,CAAD;AAA/B;AAAA;AAAA;AAAA;AAAA,sBALF,eAME;AAAO,gBAAA,QAAQ,EAAEsB,gBAAjB;AAAoC,gBAAA,IAAI,EAAC,UAAzC;AAAoD,gBAAA,IAAI,EAAC,YAAzD;AAAsE,gBAAA,WAAW,EAAC,UAAlF;AAA6F,gBAAA,QAAQ,EAAC,EAAtG;AAAyG,gBAAA,KAAK,EAAC;AAA/G;AAAA;AAAA;AAAA;AAAA,sBANF,eAOE;AAAG,gBAAA,SAAS,EAAG,OAAf;AAAA,0BAAwBpB,OAAO,CAAC,CAAD;AAA/B;AAAA;AAAA;AAAA;AAAA,sBAPF,EAQGQ,gBAAgB,KAAG,eAAnB,iBAAsC,QAAC,gBAAD;AAAkB,gBAAA,KAAK,EAAC,SAAxB;AAAkC,gBAAA,OAAO,EAAEA;AAA3C;AAAA;AAAA;AAAA;AAAA,sBARzC,eASE;AAAQ,gBAAA,IAAI,EAAC,QAAb;AAAsB,gBAAA,KAAK,EAAC,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cALF,eAsBE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAE9B,KAAjB;AAAwB,QAAA,KAAK,EAAE,CAA/B;AAAkC,QAAA,GAAG,EAAEU,KAAK,CAAC4E,SAA7C;AAAA,+BACA;AAAK,UAAA,KAAK,EAAC,OAAX;AAAA,iCACI;AAAM,YAAA,QAAQ,EAAIb,YAAlB;AAAA,oCACE;AAAO,cAAA,GAAG,EAAC,KAAX;AAAiB,6BAAY,MAA7B;AAAoC,cAAA,KAAK,EAAC,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAO,cAAA,QAAQ,EAAIxC,gBAAnB;AAAqC,cAAA,IAAI,EAAC,MAA1C;AAAiD,cAAA,IAAI,EAAC,YAAtD;AAAmE,cAAA,WAAW,EAAC,UAA/E;AAA0F,cAAA,QAAQ,EAAC,EAAnG;AAAsG,cAAA,KAAK,EAAC;AAA5G;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAG,cAAA,SAAS,EAAG,OAAf;AAAA,wBAAwBT,OAAO,CAAC,CAAD;AAA/B;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE;AAAO,cAAA,QAAQ,EAAEkB,gBAAjB;AAAmC,cAAA,IAAI,EAAC,UAAxC;AAAmD,cAAA,IAAI,EAAC,YAAxD;AAAqE,cAAA,WAAW,EAAC,UAAjF;AAA4F,cAAA,QAAQ,EAAC,EAArG;AAAwG,cAAA,KAAK,EAAC;AAA9G;AAAA;AAAA;AAAA;AAAA,oBAJF,eAKE;AAAG,cAAA,SAAS,EAAG,OAAf;AAAA,wBAAwBhB,OAAO,CAAC,CAAD;AAA/B;AAAA;AAAA;AAAA;AAAA,oBALF,EAMGI,gBAAgB,KAAG,eAAnB,iBAAsC,QAAC,gBAAD;AAAkB,cAAA,KAAK,EAAC,SAAxB;AAAkC,cAAA,OAAO,EAAEA;AAA3C;AAAA;AAAA;AAAA;AAAA,oBANzC,eAOE;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAsB,cAAA,KAAK,EAAC,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAtBF,eAmCE,QAAC,QAAD;AAAU,QAAA,KAAK,EAAE9B,KAAjB;AAAwB,QAAA,KAAK,EAAE,CAA/B;AAAkC,QAAA,GAAG,EAAEU,KAAK,CAAC4E,SAA7C;AAAA,+BACI;AAAK,UAAA,KAAK,EAAC,iBAAX;AAA6B,UAAA,KAAK,EAAE;AAACC,YAAAA,UAAU,EAAC,GAAZ;AAAgBC,YAAAA,OAAO,EAAC,MAAxB;AAA+BC,YAAAA,cAAc,EAAC,QAA9C;AAAuDC,YAAAA,UAAU,EAAC;AAAlE,WAApC;AAAA,kCACA;AAAG,YAAA,OAAO,EAAI,MAAMR,iBAAiB,CAACxF,cAAD,CAArC;AAAuD,YAAA,KAAK,EAAC,wCAA7D;AAAsG,YAAA,KAAK,EAAE;AAACiG,cAAAA,QAAQ,EAAC;AAAV,aAA7G;AAAA,oCAAmI;AAAG,cAAA,KAAK,EAAC,eAAT;AAAyB,cAAA,KAAK,EAAE;AAACC,gBAAAA,YAAY,EAAC,MAAd;AAAqBD,gBAAAA,QAAQ,EAAC;AAA9B;AAAhC;AAAA;AAAA;AAAA;AAAA,oBAAnI,iCAA8N;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA9N;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAG,YAAA,OAAO,EAAI,MAAMT,iBAAiB,CAACtF,iBAAD,CAArC;AAA0D,YAAA,KAAK,EAAC,yCAAhE;AAA0G,YAAA,KAAK,EAAE;AAAC+F,cAAAA,QAAQ,EAAC;AAAV,aAAjH;AAAA,oCAAuI;AAAG,cAAA,KAAK,EAAC,kBAAT;AAA4B,cAAA,KAAK,EAAE;AAACC,gBAAAA,YAAY,EAAC,MAAd;AAAqBD,gBAAAA,QAAQ,EAAC;AAA9B;AAAnC;AAAA;AAAA;AAAA;AAAA,oBAAvI,iCAAqO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAArO;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFA,eAGA;AAAG,YAAA,OAAO,EAAI,MAAMT,iBAAiB,CAACvF,cAAD,CAArC;AAAuD,YAAA,KAAK,EAAC,sCAA7D;AAAoG,YAAA,KAAK,EAAE;AAACgG,cAAAA,QAAQ,EAAC;AAAV,aAA3G;AAAA,oCAAiI;AAAG,cAAA,KAAK,EAAC,gBAAT;AAA0B,cAAA,KAAK,EAAE;AAACC,gBAAAA,YAAY,EAAC,MAAd;AAAqBD,gBAAAA,QAAQ,EAAC;AAA9B;AAAjC;AAAA;AAAA;AAAA;AAAA,oBAAjI,gCAA4N;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA5N;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAnCF;AAAA;AAAA;AAAA;AAAA;AAAA,YAfF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA6DD;;GAtRuBzE,a;UACL9B,W,EA8GDqB,S,EACF3B,Q;;;MAhHQoC,a","sourcesContent":["import React ,{useState} from 'react';\nimport PropTypes from 'prop-types';\nimport SwipeableViews from 'react-swipeable-views';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport {useDispatch} from 'react-redux';\nimport GoogleLogin from 'react-google-login';\nimport GitHubLogin from 'react-login-github';\nimport Cookies from 'js-cookie';\nimport socialMediaAuth from '../config/auth';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {googleProvider,githubProvider,microsoftProvider} from '../config/authMethods';\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: 1000,\n    outline:null\n  },\n}));\n\nexport default function FullWidthTabs(props) {\n  const dispatch = useDispatch();\n  const [alert_1,changeAlert_1] = useState([false,'']);\n  const [alert_2,changeAlert_2] = useState([false,'']);\n  const [alert_3,changeAlert_3] = useState([false,'']);\n  const [alert_4,changeAlert_4] = useState([false,'']);\n  const [alert_5,changeAlert_5] = useState([false,'']);\n  const [circularProgress,setCircularProgress] = useState(\"static\");\n\n  let verify = false;\n\n  function validateUsername(event){\n  \t  var username=event.target.value;\n  \t  var usernamepattern=/^[A-Za-z .]{3,15}$/;\n    \tif(usernamepattern.test(username))\n    \t{\n        if((event.target.name.charAt(event.target.name.length-1))==='3')\n        {\n          changeAlert_5([true,\"\"])\n        }\n        else{\n          changeAlert_3([true,\"\"])\n        }\n      }\n      else\n      {\n        if((event.target.name.charAt(event.target.name.length-1))==='3')\n        {\n          changeAlert_5([false,\"* invalid username, username should contain only characters [A-Z][a-z] and length should be in between 3 and 15\"])\n        }\n        else{\n          changeAlert_3([false,\"* invalid username, username should contain only characters [A-Z][a-z] and length should be in between 3 and 15\"])\n        }\n      }\n\t }\n\n  function validatePassword(event) {\n     var str = event.target.value;\n     var res;\n     if (str.match(/[a-z]/g) && str.match(/[A-Z]/g) && str.match(/[0-9]/g) && str.match(/[^a-zA-Z\\d]/g) && str.length >= 8)\n         res = 1;\n     else\n         res = 0;\n\n    if((event.target.name.charAt(event.target.name.length-1))==='1')\n    {   if(res === 1){\n          changeAlert_2([true,\"\"]);\n        }\n        else{\n          changeAlert_2([false,\"* weak password A password is correct if it contains: 1) At least 1 uppercase character.2) At least 1 lowercase character.3) At least 1 digit.4) At least 1 special character.5) Minimum 8 characters.\"]);\n          if(str===\"\"){\n             changeAlert_2([true,\"\"]);\n          }\n        }\n    }\n    else{\n        if(res === 1){\n            changeAlert_4([true,\"\"]);\n        }\n        else{\n          changeAlert_4([false,\"* invalid password \"]);\n          if(str===\"\"){\n             changeAlert_4([true,\"\"]);\n          }\n        }\n    }\n\n\n  }\n\n\n  function validateEmail(event)\n  {\n    var str = event.target.value;\n    var res;\n   if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(str))\n    {\n      res = 1;\n    }\n    else{\n      res = 0;\n    }\n\n    if((event.target.name.charAt(event.target.name.length-1))==='1')\n    {\n      if(res === 1){\n           changeAlert_1([true,\"\"]);\n         }\n         else{\n           changeAlert_1([false,\"* invalid email \"]);\n           if(str===\"\"){\n              changeAlert_1([true,\"\"]);\n           }\n         }\n    }\n    else{\n      if(res === 1){\n         changeAlert_3([true,\"\"]);\n      }\n      else{\n         changeAlert_3([false,\"* invalid email \"]);\n         if(str===\"\"){\n            changeAlert_3([true,\"\"]);\n         }\n       }\n    }\n\n\n  }\n\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleChangeIndex = (index) => {\n    setValue(index);\n  };\n\n  function Users(details,method){\n    var formBody = [];\n    for (var property in details) {\n      var encodedKey = encodeURIComponent(property);\n      var encodedValue = encodeURIComponent(details[property]);\n      formBody.push(encodedKey + \"=\" + encodedValue);\n    }\n    formBody = formBody.join(\"&\");\n    fetch('https://information-hub-backend.herokuapp.com/' + method,{\n      method: 'POST',\n      body: formBody,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n    .then((response) => {\n        var data = response.text();\n        var p = Promise.resolve(data);\n        p.then(function(value) {\n             setCircularProgress(\"static\");\n             if(value === \"Successful\"){\n                 dispatch({type:'login'});\n             }\n             else{\n                 if(method === 'login'){\n                   changeAlert_4([true,value]);\n                 }\n                 else{\n                   changeAlert_2([true,value]);\n                 }\n                 dispatch({type:'logout'});\n             }\n         });\n    })\n  }\n\n  const clickHandler = (event) => {\n      event.preventDefault();\n      if(event.target.username_3){\n        setCircularProgress(\"indeterminate\");\n        if(alert_1[0] && alert_2[0] && alert_5[0]){\n          const username = event.target.username_3.value;\n          const email = event.target.username_1.value;\n          const password = event.target.password_1.value;\n          let details = {\n            'email':email,\n            'username':username,\n            'password':password\n          };\n          Users(details,'register');\n        }\n      }\n      else{\n        setCircularProgress(\"indeterminate\");\n        if(alert_3[0] && alert_4[0]){\n          const username = event.target.username_2.value;\n          const password = event.target.password_2.value;\n          let details = {\n            'username':username,\n            'password':password\n          };\n          Users(details,'login');\n        }\n      }\n  }\n\n  const clickHandlerOAuth = async (method) => {\n    setCircularProgress(\"indeterminate\");\n    const res = await socialMediaAuth(method);\n    const username = res.displayName;\n    const email = res.email;\n    const googleId = res.uid;\n    let details = {\n      'email':email,\n      'username':username,\n      'googleId':googleId\n    };\n    if(res.email){\n      if(method === googleProvider){\n        Users(details,'auth/google');\n      }\n      else if(method === githubProvider){\n        Users(details,'auth/github');\n      }\n      else if(method === microsoftProvider){\n        Users(details,'auth/microsoft');\n      }\n    }\n    else{\n      setCircularProgress(\"static\");\n    }\n\n  }\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" color=\"default\" >\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n          aria-label=\"full width tabs example\"\n        >\n          <Tab label=\"Signup\" {...a11yProps(0)} />\n          <Tab label=\"Login\" {...a11yProps(1)} />\n          <Tab label=\"OAuth\" {...a11yProps(2)} />\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n        index={value}\n        onChangeIndex={handleChangeIndex}\n      >\n        <TabPanel value={value} index={0} dir={theme.direction}>\n        <div class=\"container-fluid\">\n        <div class=\"signup\">\n            <form onSubmit = {clickHandler}>\n              <label for=\"chk\" aria-hidden=\"true\" class=\"login-label\">Sign up</label>\n              <input onChange = {validateUsername} type=\"name\" name=\"username_3\" placeholder=\"Username\" required=\"\" class=\"login-input username-2\" />\n              <p className = \"alert\">{alert_5[1]}</p>\n              <input onChange={validateEmail}  type=\"email\" name=\"username_1\" placeholder=\"Email\" required=\"\" class=\"login-input username-1\" />\n              <p className = \"alert\">{alert_1[1]}</p>\n              <input onChange={validatePassword}  type=\"password\" name=\"password_1\" placeholder=\"Password\" required=\"\" class=\"login-input password-1\" />\n              <p className = \"alert\">{alert_2[1]}</p>\n              {circularProgress===\"indeterminate\" && <CircularProgress color=\"primary\" variant={circularProgress}/>}\n              <button type=\"submit\" class=\"hover-button\">Sign up</button>\n            </form>\n        </div>\n        </div>\n        </TabPanel>\n        <TabPanel value={value} index={1} dir={theme.direction}>\n        <div class=\"login\">\n            <form onSubmit = {clickHandler}>\n              <label for=\"chk\" aria-hidden=\"true\" class=\"login-label\">Login</label>\n              <input onChange = {validateUsername} type=\"name\" name=\"username_2\" placeholder=\"Username\" required=\"\" class=\"login-input username-2\" />\n              <p className = \"alert\">{alert_3[1]}</p>\n              <input onChange={validatePassword} type=\"password\" name=\"password_2\" placeholder=\"Password\" required=\"\" class=\"login-input password-2\" />\n              <p className = \"alert\">{alert_4[1]}</p>\n              {circularProgress===\"indeterminate\" && <CircularProgress color=\"primary\" variant={circularProgress}/>}\n              <button type=\"submit\" class=\"hover-button\">Login</button>\n            </form>\n       </div>\n        </TabPanel>\n        <TabPanel value={value} index={2} dir={theme.direction}>\n            <div class=\"container-fluid\" style={{lineHeight:\"5\",display:\"grid\",justifyContent:\"center\",alignItems:\"center\"}}>\n            <a onClick = {() => clickHandlerOAuth(googleProvider)} class=\"btn btn-outline-danger btn-block btn-6\" style={{fontSize:\"1.15rem\"}}><i class=\"fab fa-google\" style={{paddingRight:\"1rem\",fontSize:\"1.4rem\"}}></i> Sign in with <b>Google</b></a>\n            <a onClick = {() => clickHandlerOAuth(microsoftProvider)} class=\"btn btn-outline-success btn-block btn-4\" style={{fontSize:\"1.15rem\"}}><i class=\"fab fa-microsoft\" style={{paddingRight:\"1rem\",fontSize:\"1.4rem\"}}></i> Sign in with <b>Microsoft</b></a>\n            <a onClick = {() => clickHandlerOAuth(githubProvider)} class=\"btn btn-outline-dark btn-block btn-5\" style={{fontSize:\"1.15rem\"}}><i class=\"fab fa-github \" style={{paddingRight:\"1rem\",fontSize:\"1.4rem\"}}></i>Sign in with <b>Github</b></a>\n            </div>\n        </TabPanel>\n      </SwipeableViews>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}